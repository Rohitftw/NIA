<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Upcoming Events - The Netherlands India Association</title>

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&family=Open+Sans:wght@300;400;600&display=swap"
      rel="stylesheet"
    />

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />

    <style>
      /* --- 1. RESET & VARIABLES (Strict Black & White) --- */
      :root {
        --bg-body: #ffffff;
        --bg-light-grey: #f9f9f9;
        --bg-dark: #111111;
        --text-main: #222222;
        --text-light: #666666;
        --border-light: #e0e0e0;
        --border-dark: #000000;
        --font-heading: "Montserrat", sans-serif;
        --font-body: "Open Sans", sans-serif;
        --spacing-section: 100px;
      }

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: var(--font-body);
        color: var(--text-main);
        background-color: var(--bg-body);
        line-height: 1.6;
        overflow-x: hidden;
      }
      body.modal-open {
        overflow: hidden;
      }

      a {
        text-decoration: none;
        color: inherit;
        transition: all 0.3s ease;
      }
      ul {
        list-style: none;
      }
      img {
        display: block;
        max-width: 100%;
      }

      h1,
      h2,
      h3,
      h4 {
        font-family: var(--font-heading);
        color: #000;
        font-weight: 600;
        letter-spacing: -0.5px;
      }
      h2 {
        font-size: 2rem;
        margin-bottom: 1rem;
      }
      p {
        color: var(--text-light);
        font-weight: 300;
        margin-bottom: 1.5rem;
      }

      .container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 60px;
      }

      /* Buttons */
      .btn {
        display: inline-block;
        padding: 12px 24px;
        font-size: 0.8rem;
        text-transform: uppercase;
        letter-spacing: 1px;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
        border: 1px solid var(--border-dark);
        white-space: nowrap;
        text-align: center;
      }
      .btn-register {
        background-color: #000;
        color: #fff;
        border-radius: 2px;
      }
      .btn-register:hover {
        background-color: #333;
      }
      .btn-outline {
        background: transparent;
        color: #000;
      }
      .btn-outline:hover {
        background: #000;
        color: #fff;
      }

      /* --- NAVBAR & ANNOUNCEMENT --- */
      #announcement-bar {
        background-color: #f4f4f4;
        color: #000;
        text-align: center;
        padding: 10px 40px;
        font-size: 0.8rem;
        font-weight: 500;
        position: relative;
        border-bottom: 1px solid #ddd;
        display: flex;
        justify-content: center;
        align-items: center;
      }
      .announcement-close {
        position: absolute;
        right: 20px;
        top: 50%;
        transform: translateY(-50%);
        background: none;
        border: none;
        font-size: 1rem;
        cursor: pointer;
        color: #555;
        padding: 5px;
      }

      /* Navbar Fixes */
      #navbar {
        position: sticky;
        top: 0;
        background: rgba(255, 255, 255, 1); /* Solid background to cover hero */
        padding: 15px 5%;
        display: flex;
        justify-content: space-between;
        align-items: center;
        z-index: 9999; /* Higher than everything else */
        overflow: visible; /* Allows dropdown to hang out */
        border-bottom: 1px solid transparent;
        transition: all 0.3s ease;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.02);
      }
      #navbar.scrolled {
        border-bottom: 1px solid var(--border-light);
      }

      /* Logo Fix */
      .nav-logo {
        display: flex;
        align-items: center;
      }
      .nav-logo img {
        max-height: 50px;
        width: auto;
        transition: all 0.3s ease;
      }

      .nav-menu {
        display: flex;
        gap: 5px;
        align-items: center;
        height: 100%;
        margin: 0;
        padding: 0;
      }
      .nav-item {
        position: relative;
        height: 100%;
        display: flex;
        align-items: center;
      }
      .nav-link {
        font-size: 0.85rem;
        font-weight: 600;
        color: #444;
        padding: 0 15px;
        cursor: pointer;
        display: flex;
        align-items: center;
        gap: 5px;
        height: 100%;
        transition: color 0.3s;
      }
      .nav-link:hover {
        color: #000;
      }
      .nav-link i {
        font-size: 0.7rem;
        color: #999;
        margin-top: 2px;
      }

      /* Dropdown Fix */
      .dropdown {
        position: absolute;
        top: 100%; /* Pushes it exactly below the item */
        left: 0;
        background: #fff;
        min-width: 220px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
        border-top: 2px solid #000; /* Orange accent top border */
        opacity: 0;
        visibility: hidden;
        transform: translateY(10px);
        transition: all 0.3s ease;
        padding: 10px 0;
        z-index: 10000;
      }
      .nav-item:hover .dropdown {
        opacity: 1;
        visibility: visible;
        transform: translateY(0);
      }
      .dropdown li a {
        display: block;
        padding: 10px 20px;
        font-size: 0.85rem;
        color: #555;
        transition: 0.2s;
        border-bottom: 1px solid #f9f9f9;
      }
      .dropdown li:last-child a {
        border-bottom: none;
      }
      .dropdown li a:hover {
        background-color: #f5f5f5;
        color: #000;
        padding-left: 25px;
      }

      .nav-actions {
        display: flex;
        align-items: center;
        gap: 20px;
      }
      .lang-switch {
        font-size: 0.8rem;
        font-weight: 600;
        display: flex;
        gap: 5px;
        cursor: pointer;
        color: #888;
      }
      .lang-opt:hover {
        color: #000;
      }
      .lang-opt.active {
        color: #000;
        text-decoration: underline;
        text-underline-offset: 4px;
      }

      /* --- PAGE HERO --- */
      .page-header {
        position: relative;
        height: 50vh;
        background-color: #000;
        display: flex;
        align-items: center;
        justify-content: center;
        text-align: center;
        color: #fff;
        overflow: hidden;
        z-index: 1;
      }
      .page-header-bg {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-image: url("https://images.unsplash.com/photo-1492684223066-81342ee5ff30?auto=format&fit=crop&q=80&w=2000");
        background-size: cover;
        background-position: center;
        /* opacity: 0.5;
        filter: grayscale(100%); */
      }
      .header-content {
        position: relative;
        z-index: 2;
        padding: 0 20px;
      }
      .header-title {
        font-size: 3.5rem;
        margin-bottom: 10px;
      }
      .header-breadcrumb {
        font-size: 0.9rem;
        text-transform: uppercase;
        letter-spacing: 1px;
        color: #ccc;
      }

      /* --- EVENTS GRID SECTION --- */
      #events-list {
        padding: 80px 0;
        background-color: var(--bg-light-grey);
      }
      .events-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
        gap: 40px;
      }

      .event-card {
        background: #fff;
        border: 1px solid var(--border-light);
        transition: all 0.3s ease;
        display: flex;
        flex-direction: column;
      }
      .event-card:hover {
        box-shadow: 0 15px 30px rgba(0, 0, 0, 0.05);
        border-color: #000;
        transform: translateY(-5px);
      }
      .event-thumb {
        height: 200px;
        width: 100%;
        object-fit: cover;
        /* filter: grayscale(100%); */
        transition: 0.3s;
      }
      .event-card:hover .event-thumb {
        filter: grayscale(0%);
      }
      .event-card-content {
        padding: 25px;
        flex-grow: 1;
        display: flex;
        flex-direction: column;
      }
      .event-date-badge {
        font-size: 0.8rem;
        text-transform: uppercase;
        color: #888;
        letter-spacing: 1px;
        margin-bottom: 10px;
        display: block;
      }
      .event-card-title {
        font-size: 1.3rem;
        margin-bottom: 15px;
        line-height: 1.3;
      }
      .event-card-loc {
        font-size: 0.9rem;
        color: #666;
        margin-bottom: 25px;
        display: flex;
        align-items: center;
        gap: 8px;
      }
      .event-card-footer {
        margin-top: auto;
      }

      /* --- EVENT DETAIL MODAL --- */
      .modal {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: #fff;
        z-index: 11000;
        overflow-y: auto;
        opacity: 0;
        visibility: hidden;
        transition: all 0.4s ease;
        transform: translateY(20px);
      }
      .modal.active {
        opacity: 1;
        visibility: visible;
        transform: translateY(0);
      }

      .modal-content {
        max-width: 1000px;
        margin: 0 auto;
        padding: 60px 30px;
        position: relative;
      }
      .close-modal {
        position: absolute;
        top: 30px;
        right: 30px;
        font-size: 2rem;
        cursor: pointer;
        color: #000;
        transition: 0.3s;
        z-index: 10;
      }
      .close-modal:hover {
        transform: rotate(90deg);
      }

      .detail-header {
        margin-bottom: 40px;
        border-bottom: 1px solid var(--border-light);
        padding-bottom: 30px;
      }
      .detail-title {
        font-size: 2.5rem;
        margin-bottom: 15px;
      }
      .detail-meta {
        font-size: 1.1rem;
        color: #555;
        display: flex;
        flex-wrap: wrap;
        gap: 20px;
        align-items: center;
      }
      .detail-meta i {
        margin-right: 8px;
        color: #000;
      }

      .detail-body {
        display: grid;
        grid-template-columns: 2fr 1fr;
        gap: 60px;
        margin-bottom: 60px;
      }
      .detail-desc {
        font-size: 1.05rem;
        line-height: 1.8;
      }

      /* Booking Sidebar */
      .booking-box {
        background: var(--bg-light-grey);
        padding: 30px;
        border: 1px solid var(--border-light);
        position: sticky;
        top: 100px;
      }
      .booking-title {
        font-size: 1.2rem;
        margin-bottom: 20px;
        border-bottom: 1px solid #ddd;
        padding-bottom: 10px;
      }
      .ticket-selector {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 20px;
        padding: 15px 0;
        border-bottom: 1px solid #eee;
      }
      .ticket-type {
        font-weight: 600;
      }
      .ticket-price {
        color: #666;
        font-size: 0.9rem;
      }
      .ticket-controls {
        display: flex;
        align-items: center;
        gap: 10px;
      }
      .qty-btn {
        width: 30px;
        height: 30px;
        border: 1px solid #000;
        background: #fff;
        cursor: pointer;
        font-weight: 600;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: 0.2s;
      }
      .qty-btn:hover {
        background: #000;
        color: #fff;
      }
      .ticket-count {
        font-weight: 700;
        min-width: 20px;
        text-align: center;
      }
      .total-price {
        font-size: 1.3rem;
        font-weight: 700;
        text-align: right;
        margin-bottom: 20px;
        display: block;
      }

      /* Placeholders */
      .placeholder-section {
        margin-top: 50px;
      }
      .placeholder-title {
        font-size: 1.3rem;
        margin-bottom: 20px;
      }
      .map-placeholder {
        width: 100%;
        height: 300px;
        background: #eee;
        display: flex;
        align-items: center;
        justify-content: center;
        color: #999;
        border: 1px dashed #ccc;
      }
      .gallery-placeholder {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 15px;
      }
      .gallery-thumb {
        height: 150px;
        background: #eee;
        border: 1px dashed #ccc;
      }
      /* --- SPONSORS CAROUSEL CSS --- */
      #sponsors {
        padding: 60px 0;
        text-align: center;
        border-bottom: 1px solid var(--border-light);
        overflow: hidden;
        background: #fff;
      }

      .sponsor-carousel-container {
        width: 100%;
        overflow: hidden;
        position: relative;
        margin-top: 40px;
        white-space: nowrap;
      }

      .sponsor-carousel-container::before,
      .sponsor-carousel-container::after {
        content: "";
        position: absolute;
        top: 0;
        width: 100px;
        height: 100%;
        z-index: 2;
        pointer-events: none;
      }

      .sponsor-carousel-container::before {
        left: 0;
        background: linear-gradient(to right, #fff, transparent);
      }
      .sponsor-carousel-container::after {
        right: 0;
        background: linear-gradient(to left, #fff, transparent);
      }

      .sponsor-track {
        display: inline-block;
        animation: scroll 30s linear infinite;
      }
      .sponsor-track:hover {
        animation-play-state: paused;
      }

      .sponsor-logo {
        height: 50px;
        width: auto;
        margin: 0 40px;
        display: inline-block;
        vertical-align: middle;
        /* filter: grayscale(100%); */
        /* opacity: 0.6; */
        transition: all 0.3s ease;
      }

      .sponsor-logo:hover {
        filter: grayscale(0%);
        opacity: 1;
        transform: scale(1.05);
      }

      @keyframes scroll {
        0% {
          transform: translateX(0);
        }
        100% {
          transform: translateX(-50%);
        }
      }
      footer {
        background-color: #000;
        color: #fff;
        padding: 80px 20px 20px;
        font-size: 0.9rem;
      }
      .footer-grid {
        display: grid;
        grid-template-columns: 2fr 1fr 1fr 1fr;
        gap: 40px;
        max-width: 1100px;
        margin: 0 auto 60px;
      }
      .footer-col h4 {
        color: #fff;
        font-size: 0.9rem;
        text-transform: uppercase;
        margin-bottom: 20px;
      }
      .footer-col p,
      .footer-col a {
        color: #888;
      }
      .footer-col a:hover {
        color: #fff;
      }
      .footer-col ul li {
        margin-bottom: 10px;
      }
      .footer-bottom {
        border-top: 1px solid #222;
        padding-top: 20px;
        text-align: center;
        color: #444;
        font-size: 0.8rem;
      }
      .socials a {
        margin-right: 15px;
        font-size: 1.2rem;
      }

      /* Animations & Responsive */
      .fade-in-up {
        opacity: 0;
        transform: translateY(20px);
        transition: opacity 0.8s ease, transform 0.8s ease;
      }
      .visible {
        opacity: 1;
        transform: translateY(0);
      }

      /* Responsive */
      @media (max-width: 900px) {
        .nav-menu {
          display: none;
        }
        .container {
          padding: 0 30px;
        }
        .events-grid {
          grid-template-columns: 1fr;
        }
        .detail-body {
          grid-template-columns: 1fr;
        }
        .booking-box {
          position: static;
          margin-top: 40px;
        }
        .gallery-placeholder {
          grid-template-columns: 1fr 1fr;
        }
      }
    </style>
  </head>
  <body>
    <div id="announcement-bar">
      <span data-lang-key="announcement_text">Enhancing friendship and understanding between India and The Netherlands.</span>
      <button class="announcement-close"><i class="fas fa-times"></i></button>
    </div>

    <nav id="navbar">
      <a href="../index.html" class="nav-logo">
        <img src="../assests/logo.webp" alt="NIA Logo" />
      </a>

      <ul class="nav-menu">
        <li class="nav-item"><a href="../index.html" class="nav-link" data-lang-key="nav_home">Home</a></li>
        <li class="nav-item">
          <span class="nav-link" style="color: #000">About Us <i class="fas fa-chevron-down"></i></span>
          <ul class="dropdown">
            <li><a href="../about/about.html">About NIA</a></li>
            <li><a href="../about/executive-board.html">Executive Board</a></li>
            <li><a href="../about/what-we-do.html">What we do</a></li>
            <li><a href="../about/history.html">History</a></li>
            <li><a href="../about/constitution.html">Constitution</a></li>
            <li><a href="../about/privacy-policy.html">Privacy Policy</a></li>
          </ul>
        </li>
        <li class="nav-item">
          <span class="nav-link">Events <i class="fas fa-chevron-down"></i></span>
          <ul class="dropdown">
            <li><a href="upcoming-events.html">Upcoming Events</a></li>
            <li><a href="past-events.html">Past Events</a></li>
          </ul>
        </li>
        <li class="nav-item"><a href="../membership.html" class="nav-link">Membership</a></li>
        <li class="nav-item"><a href="../articles.html" class="nav-link">Articles</a></li>
        <li class="nav-item"><a href="../gallery.html" class="nav-link">Gallery</a></li>
        <li class="nav-item"><a href="../contact-us.html" class="nav-link">Contact Us</a></li>
      </ul>
      <div class="nav-actions">
        <a href="../membership.html" class="btn btn-register">Register</a>
        <div class="lang-switch"><span class="lang-opt active">EN</span>|<span class="lang-opt">NL</span></div>
      </div>
    </nav>

    <header class="page-header">
      <div class="page-header-bg"></div>
      <div class="header-content">
        <h1 class="header-title">Upcoming Events</h1>
        <span class="header-breadcrumb">Events / Upcoming</span>
      </div>
    </header>

    <section id="events-list">
      <div class="container">
        <div class="events-grid" id="events-container"></div>
      </div>
    </section>

    <div id="event-modal" class="modal">
      <div class="modal-content">
        <span class="close-modal" id="close-modal-btn"><i class="fas fa-times"></i></span>

        <div id="modal-body-content"></div>
      </div>
    </div>
    <section id="sponsors">
      <div class="container fade-in-up">
        <span class="subtitle" data-lang-key="spon_title">Our Sponsors</span>

        <div class="sponsor-carousel-container">
          <div class="sponsor-track">
            <img src="../assests/sponsor/10-300x89.webp" alt="Sponsor" class="sponsor-logo" />
            <img src="../assests/sponsor/11-300x89.webp" alt="Sponsor" class="sponsor-logo" />
            <img src="../assests/sponsor/12-300x89.webp" alt="Sponsor" class="sponsor-logo" />
            <img src="../assests/sponsor/13.webp" alt="Sponsor" class="sponsor-logo" />
            <img src="../assests/sponsor/16.webp" alt="Sponsor" class="sponsor-logo" />

            <img src="../assests/sponsor/18.webp" alt="Sponsor" class="sponsor-logo" />
            <img src="../assests/sponsor/17-1.webp" alt="Sponsor" class="sponsor-logo" />
            <img src="../assests/sponsor/2-300x89.webp" alt="Sponsor" class="sponsor-logo" />
            <img src="../assests/sponsor/23.webp" alt="Sponsor" class="sponsor-logo" />
            <img src="../assests/sponsor/8-300x89.webp" alt="Sponsor" class="sponsor-logo" />
            <img src="../assests/sponsor/7-300x89.webp" alt="Sponsor" class="sponsor-logo" />
            <img src="../assests/sponsor/6-300x89.webp" alt="Sponsor" class="sponsor-logo" />
            <img src="../assests/sponsor/5-300x89.webp" alt="Sponsor" class="sponsor-logo" />
            <img src="../assests/sponsor/4-300x89.webp" alt="Sponsor" class="sponsor-logo" />
            <img src="../assests/sponsor/23.webp" alt="Sponsor" class="sponsor-logo" />
          </div>
        </div>
      </div>
    </section>

    <footer>
      <div class="footer-grid">
        <div class="footer-col">
          <h4>NIA.</h4>
          <p data-lang-key="foot_about">
            The Netherlands India Association is a networking organization for Dutch and Indian management, research, and culture.
          </p>
        </div>
        <div class="footer-col">
          <h4 data-lang-key="foot_links">Quick Links</h4>
          <ul>
            <li><a href="about/about.html" data-lang-key="nav_about">About Us</a></li>
            <li><a href="#objectives" data-lang-key="nav_objectives">Objectives</a></li>
            <li><a href="about/history.html" data-lang-key="nav_history">History</a></li>
          </ul>
        </div>
        <div class="footer-col">
          <h4 data-lang-key="foot_contact">Address</h4>
          <p>The Hague, 2500 GK<br />The Netherlands</p>
          <p>info@niaonline.org</p>
        </div>
        <div class="footer-col">
          <h4 data-lang-key="foot_follow">Follow Us</h4>
          <div class="socials">
            <a href="#"><i class="fab fa-facebook-f"></i></a>
            <a href="#"><i class="fab fa-linkedin-in"></i></a>
          </div>
        </div>
      </div>
      <div class="footer-bottom">
        <p>&copy; 2023 Netherlands India Association. All rights reserved.</p>
      </div>
    </footer>

    <script>
      // --- 1. SAMPLE EVENT DATA ---
      const eventsData = [
        {
          id: 1,
          title: "Indo-Dutch Cultural Music & Dance Night",
          dateFormatted: "SAT, OCT 28, 2023 | 18:00 - 22:00",
          location: "Korzo Theater, The Hague",
          image: "https://images.unsplash.com/photo-1516450360452-9312f5e86fc7?auto=format&fit=crop&q=80&w=1000",
          price: 25.0,
          description:
            "Join us for a mesmerizing evening celebrating the rich musical and dance traditions of both India and the Netherlands. Featuring renowned classical Indian dancers and Dutch contemporary musicians in a unique fusion performance.",
        },
        {
          id: 2,
          title: "NIA Annual Business Symposium: Future Tech",
          dateFormatted: "FRI, NOV 17, 2023 | 13:00 - 17:00",
          location: "World Trade Center, Amsterdam",
          image: "https://images.unsplash.com/photo-1542744173-8e7e53415bb0?auto=format&fit=crop&q=80&w=1000",
          price: 40.0,
          description:
            "A high-level academic and business symposium focusing on technological cooperation between India and the Netherlands. Keynote speakers from leading tech firms and universities will discuss AI, sustainable energy, and future opportunities.",
        },
        {
          id: 3,
          title: "Diwali Gala Dinner 2023",
          dateFormatted: "SAT, NOV 25, 2023 | 19:00 - 23:30",
          location: "Grand Hotel Huis ter Duin, Noordwijk",
          image: "https://images.unsplash.com/photo-1514525253161-7a46d19cd819?auto=format&fit=crop&q=80&w=1000",
          price: 75.0,
          description:
            "Celebrate the Festival of Lights in style at our annual Diwali Gala. Enjoy a luxurious three-course Indian fine dining experience, live entertainment, music, and a vibrant atmosphere. Dress code: Traditional Indian or Black Tie.",
        },
        {
          id: 4,
          title: "International Yoga Day Morning Session",
          dateFormatted: "SUN, JUN 21, 2024 | 08:00 - 11:00",
          location: "Museumplein, Amsterdam",
          image: "https://images.unsplash.com/photo-1544367567-0f2fcb009e0b?auto=format&fit=crop&q=80&w=1000",
          price: 0.0,
          description:
            "Mark your calendars for next year! Connect with your inner self at our grand open-air Yoga session celebrating International Yoga Day. Led by certified instructors, this session is open to all ages and skill levels. Bring your own mat.",
        },
      ];

      // --- 2. RENDER EVENTS GRID ---
      const eventsContainer = document.getElementById("events-container");

      function renderEvents() {
        eventsContainer.innerHTML = eventsData
          .map(
            (event) => `
                <div class="event-card">
                    <img src="${event.image}" alt="${event.title}" class="event-thumb">
                    <div class="event-card-content">
                        <span class="event-date-badge">${event.dateFormatted.split("|")[0]}</span>
                        <h3 class="event-card-title">${event.title}</h3>
                        <div class="event-card-loc"><i class="fas fa-map-marker-alt"></i> ${event.location}</div>
                        <div class="event-card-footer">
                            <button class="btn btn-outline view-details-btn" style="width:100%;" data-id="${event.id}">View Details & Book</button>
                        </div>
                    </div>
                </div>
            `
          )
          .join("");

        attachModalListeners();
      }

      // --- 3. MODAL & BOOKING LOGIC ---
      const modal = document.getElementById("event-modal");
      const modalBody = document.getElementById("modal-body-content");
      const closeBtn = document.getElementById("close-modal-btn");
      let currentTicketCount = 1;
      let currentEventPrice = 0;

      function attachModalListeners() {
        document.querySelectorAll(".view-details-btn").forEach((btn) => {
          btn.addEventListener("click", (e) => {
            const eventId = parseInt(e.target.dataset.id);
            const event = eventsData.find((ev) => ev.id === eventId);
            openModal(event);
          });
        });
      }

      function openModal(event) {
        currentTicketCount = 1;
        currentEventPrice = event.price;

        // Populate Modal HTML structure
        modalBody.innerHTML = `
                <div class="detail-header">
                    <h2 class="detail-title">${event.title}</h2>
                    <div class="detail-meta">
                        <span><i class="far fa-calendar-alt"></i> ${event.dateFormatted}</span>
                        <span><i class="fas fa-map-marker-alt"></i> ${event.location}</span>
                    </div>
                </div>

                <div class="detail-body">
                    <div>
                        <img src="${event.image}" alt="${
          event.title
        }" style="width:100%; height: 400px; object-fit:cover; margin-bottom: 30px; filter: grayscale(20%);">
                        <h3 style="font-size: 1.5rem; margin-bottom: 20px;">About the Event</h3>
                        <p class="detail-desc">${event.description}</p>
                        <p class="detail-desc">Tickets are limited. Please stay connected for updates.</p>

                        <div class="placeholder-section">
                            <h4 class="placeholder-title">Time & Location</h4>
                            <p style="margin-bottom:10px;">${event.dateFormatted}<br>${event.location}</p>
                            <div class="map-placeholder"><i class="fas fa-map-marked-alt" style="margin-right:10px;"></i> Map View Placeholder</div>
                        </div>
                    </div>

                    <div>
                        <div class="booking-box">
                            <h3 class="booking-title">Book Tickets</h3>
                            
                            <div class="ticket-selector">
                                <div>
                                    <span class="ticket-type">General Admission</span><br>
                                    <span class="ticket-price">${event.price > 0 ? "€ " + event.price.toFixed(2) : "Free"}</span>
                                </div>
                                <div class="ticket-controls">
                                    <button class="qty-btn" onclick="updateTicket(-1)">-</button>
                                    <span class="ticket-count" id="ticket-qty">1</span>
                                    <button class="qty-btn" onclick="updateTicket(1)">+</button>
                                </div>
                            </div>

                            <div style="border-top: 1px solid #ddd; padding-top: 20px;">
                                <span style="display:flex; justify-content: space-between; margin-bottom: 20px;">
                                    <span>Total:</span>
                                    <span class="total-price" id="total-price-display">${
                                      event.price > 0 ? "€ " + event.price.toFixed(2) : "€ 0.00"
                                    }</span>
                                </span>
                                <button class="btn btn-register" style="width:100%;" onclick="alert('Proceeding to checkout simulation...')">Proceed to Book</button>
                            </div>
                        </div>
                    </div>
                </div>
            `;

        document.body.classList.add("modal-open");
        modal.classList.add("active");
      }

      // Global function for ticket updates
      window.updateTicket = function (change) {
        let newCount = currentTicketCount + change;
        if (newCount < 1) newCount = 1;
        if (newCount > 10) newCount = 10;

        currentTicketCount = newCount;
        document.getElementById("ticket-qty").innerText = currentTicketCount;

        const total = currentTicketCount * currentEventPrice;
        document.getElementById("total-price-display").innerText = currentEventPrice > 0 ? "€ " + total.toFixed(2) : "€ 0.00";
      };

      closeBtn.addEventListener("click", () => {
        modal.classList.remove("active");
        document.body.classList.remove("modal-open");
      });

      // Navbar Scroll Effect
      window.addEventListener("scroll", () => {
        const navbar = document.getElementById("navbar");
        if (window.scrollY > 50) navbar.classList.add("scrolled");
        else navbar.classList.remove("scrolled");
      });

      // Announcement Bar
      if (localStorage.getItem("niaAnnouncementClosed") === "true") {
        document.getElementById("announcement-bar").style.display = "none";
      }
      document.querySelector(".announcement-close").addEventListener("click", () => {
        document.getElementById("announcement-bar").style.display = "none";
        localStorage.setItem("niaAnnouncementClosed", "true");
      });

      // Initialize
      renderEvents();
    </script>
  </body>
</html>
